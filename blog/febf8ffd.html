<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|JetBrains Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dengwenyi88.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"HG95CIAAGP","apiKey":"cb058191fc2599e72638aa2c23b77593","indexName":"sherlock","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="这篇是mysql的详细配置参考,每个配置项都仔细研究,关键的几项配置说明如下:  Safety节的配置  sql_mode中不增加NO_ZERO_DATE,NO_ZERO_IN_DATE时,日期可以初始化为0000-00-00 00:00:00 InnoDB的配置  innodb_file_per_table建议开启,这样当用户建立的表比较大时,可以跟系统表分开存放  innodb_page_si">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql配置详细参考">
<meta property="og:url" content="https://dengwenyi88.github.io/blog/febf8ffd.html">
<meta property="og:site_name" content="咖啡&#39;s blog">
<meta property="og:description" content="这篇是mysql的详细配置参考,每个配置项都仔细研究,关键的几项配置说明如下:  Safety节的配置  sql_mode中不增加NO_ZERO_DATE,NO_ZERO_IN_DATE时,日期可以初始化为0000-00-00 00:00:00 InnoDB的配置  innodb_file_per_table建议开启,这样当用户建立的表比较大时,可以跟系统表分开存放  innodb_page_si">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://dengwenyi88.github.io/blog/febf8ffd/workbench.png">
<meta property="article:published_time" content="2019-11-05T01:21:09.000Z">
<meta property="article:modified_time" content="2022-05-02T10:16:27.552Z">
<meta property="article:author" content="咖啡">
<meta property="article:tag" content="mysql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://dengwenyi88.github.io/blog/febf8ffd/workbench.png">

<link rel="canonical" href="https://dengwenyi88.github.io/blog/febf8ffd.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>mysql配置详细参考 | 咖啡's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">咖啡's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">专心 专注 专业</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dengwenyi88.github.io/blog/febf8ffd.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/sherlock.png">
      <meta itemprop="name" content="咖啡">
      <meta itemprop="description" content="技术的朝圣之旅">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="咖啡's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          mysql配置详细参考
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-05 09:21:09" itemprop="dateCreated datePublished" datetime="2019-11-05T09:21:09+08:00">2019-11-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-02 18:16:27" itemprop="dateModified" datetime="2022-05-02T18:16:27+08:00">2022-05-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/5-%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">5-其他</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/5-%E5%85%B6%E4%BB%96/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/blog/febf8ffd.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/blog/febf8ffd.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>这篇是mysql的详细配置参考,每个配置项都仔细研究,关键的几项配置说明如下:</p>
<ul>
<li>Safety节的配置<br>  sql_mode中不增加NO_ZERO_DATE,NO_ZERO_IN_DATE时,日期可以初始化为0000-00-00 00:00:00</li>
<li>InnoDB的配置<br>  innodb_file_per_table建议开启,这样当用户建立的表比较大时,可以跟系统表分开存放<br>  innodb_page_size没有明确设置时,其值默认为16K</li>
</ul>
<span id="more"></span>
<p><a id=jump_a>附录A</a><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br></pre></td><td class="code"><pre><span class="line">#########################################################################</span><br><span class="line">#                                                                       #</span><br><span class="line">#                         MySQL客户端配置                                 #</span><br><span class="line">#                                                                       #</span><br><span class="line">#########################################################################</span><br><span class="line">[client]</span><br><span class="line"># MySQL客户端默认端口号</span><br><span class="line">port = 3306</span><br><span class="line"># 用于本地连接的Unix套接字文件存放路径</span><br><span class="line">socket = /Users/sherlock/documents/mysql/mysql.sock</span><br><span class="line"># MySQL客户端默认字符集</span><br><span class="line">default-character-set = utf8</span><br><span class="line"></span><br><span class="line">#########################################################################</span><br><span class="line">#                                                                       #</span><br><span class="line">#                         MySQL命令行配置                                 #</span><br><span class="line">#                                                                       #</span><br><span class="line">#########################################################################</span><br><span class="line">[mysql]</span><br><span class="line"># 开启tab补齐功能</span><br><span class="line">auto-rehash</span><br><span class="line"># 用于本地连接的Unix套接字文件存放路径</span><br><span class="line">socket = /Users/sherlock/documents/mysql/mysql.sock</span><br><span class="line"># MySQL客户端默认字符集</span><br><span class="line">default-character-set = utf8</span><br><span class="line"># 指定在网络传输中一次消息传输量的最大值。系统默认值 为1MB，最大值是1GB，必须设置1024的倍数。</span><br><span class="line">max_allowed_packet = 256M</span><br><span class="line"></span><br><span class="line">#########################################################################</span><br><span class="line">#                                                                       #</span><br><span class="line">#                         MySQL服务端配置                               #</span><br><span class="line">#                                                                       #</span><br><span class="line">#########################################################################</span><br><span class="line">[mysqld]</span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#              General                 #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line">bind_address = *</span><br><span class="line"># MySQL服务端默认监听的TCP/IP端口</span><br><span class="line">port = 3306</span><br><span class="line"># 用于本地连接的Unix套接字文件存放路径</span><br><span class="line">socket = /Users/sherlock/documents/mysql/mysql.sock</span><br><span class="line"># 进程ID文件存放路径</span><br><span class="line">pid-file = /Users/sherlock/documents/mysql/mysql.pid</span><br><span class="line"># MySQL软件安装路径</span><br><span class="line">basedir = /usr/local/mysql</span><br><span class="line"># MySQL数据文件存放路径</span><br><span class="line">datadir = /Users/sherlock/documents/mysql/data</span><br><span class="line"># MySQL临时文件存放路径</span><br><span class="line">tmpdir = /Users/sherlock/documents/mysql/temp</span><br><span class="line"># MySQL服务端字符集</span><br><span class="line">character_set_server = UTF8</span><br><span class="line"># MySQL服务端校对规则</span><br><span class="line">collation_server = utf8_general_ci</span><br><span class="line"># 设置默认存储引擎为InnoDB</span><br><span class="line">default-storage-engine = InnoDB</span><br><span class="line"># 默认为ON，设置为OFF，关闭事务自动提交</span><br><span class="line">autocommit = OFF</span><br><span class="line"></span><br><span class="line"># MySQL支持4种事务隔离级别，他们分别是：</span><br><span class="line"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.</span><br><span class="line"># 如没有指定，MySQL默认采用的是REPEATABLE-READ，ORACLE默认的是READ-COMMITTED</span><br><span class="line">transaction_isolation = READ-COMMITTED</span><br><span class="line"></span><br><span class="line"># 开启事件调度器event_scheduler</span><br><span class="line">event_scheduler = ON</span><br><span class="line"># 控制TIMESTAMP数据类型的特性，默认OFF，设置为ON，update 时timestamp列关闭自动更新。（将来会被废弃）</span><br><span class="line">#explicit_defaults_for_timestamp = ON</span><br><span class="line"></span><br><span class="line"># 库名、表名是否区分大小写。默认为0，设置1，不区分大小写，创建的表、数据库都以小写形式存放磁盘。</span><br><span class="line">lower_case_table_names = 1</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#       Network &amp; Connection           #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line"># MySQL允许的最大并发连接数，默认值151，如果经常出现Too Many Connections的错误提示，则需要增大此值。</span><br><span class="line">max_connections = 1000</span><br><span class="line"># 每个数据库用户的最大连接，（同一个账号能够同时连接到mysql服务的最大连接数），默认为0，表示不限制。</span><br><span class="line">max_user_connections = 1000</span><br><span class="line"># MySQL监听TCP端口时设置的积压请求栈大小，默认50+(max_connections/5)，最大不超过900</span><br><span class="line">back_log = 500</span><br><span class="line"># 每个主机的连接请求异常中断的最大次数。对于同一主机，如果有超出该参数值个数的中断错误连接，则该主机将被禁止连接。如需对该主机进行解禁，执行：FLUSH HOST。</span><br><span class="line">max_connect_errors = 10000</span><br><span class="line"># 服务器关闭交互式连接前等待活动的秒数。交互式客户端定义为在mysql_real_connect()中使用CLIENT_INTERACTIVE选项的客户端。默认值：28800秒（8小时）</span><br><span class="line">interactive_timeout = 28800</span><br><span class="line"># 服务器关闭非交互连接之前等待活动的秒数。默认值：28800秒（8小时）</span><br><span class="line"># 指定一个请求的最大连接时间，当MySQL连接闲置超过一定时间后将会被强行关闭。对于4GB左右内存的服务器来说，可以将其设置为5~10。</span><br><span class="line"># 如果经常出现Too Many Connections的错误提示，或者show processlist命令发现有大量sleep进程，则需要同时减小interactive_timeout和wait_timeout值。</span><br><span class="line">wait_timeout = 28800</span><br><span class="line"># 在获取连接时，等待握手的超时秒数，只在登录时生效。主要是为了防止网络不佳时应用重连导致连接数涨太快，一般默认即可。</span><br><span class="line">connect_timeout = 28800</span><br><span class="line"># mysqld能打开文件的最大个数，默认最小1024，如果出现too mant open files之类的就需要增大该值。</span><br><span class="line">open_files_limit = 5000</span><br><span class="line"># 指定在网络传输中一次消息传输量的最大值。系统默认值 为1MB，最大值是1GB，必须设置1024的倍数。</span><br><span class="line">max_allowed_packet = 256M</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#          Thread &amp; Buffer             #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line">sort_buffer_size = 2M</span><br><span class="line"># 排序缓冲区大小，connection级参数，默认大小为2MB。如果想要增加ORDER BY的速度，首先看是否可以让MySQL使用索引，其次可以尝试增大该值。</span><br><span class="line"></span><br><span class="line">read_buffer_size = 160M</span><br><span class="line"># 顺序读缓冲区大小，connection级参数，该参数对应的分配内存是每连接独享。对表进行顺序扫描的请求将分配一个读入缓冲区。</span><br><span class="line"></span><br><span class="line">read_rnd_buffer_size = 160M</span><br><span class="line"># 随机读缓冲区大小，connection级参数，该参数对应的分配内存是每连接独享。默认值256KB，最大值4GB。当按任意顺序读取行时，将分配一个随机读缓存区。</span><br><span class="line"></span><br><span class="line">join_buffer_size = 320M</span><br><span class="line"># 联合查询缓冲区大小，connection级参数，该参数对应的分配内存是每连接独享。</span><br><span class="line"></span><br><span class="line">bulk_insert_buffer_size = 64M</span><br><span class="line"># 批量插入数据缓存大小，可以有效提高插入效率，默认为8M</span><br><span class="line"></span><br><span class="line">thread_cache_size = 8</span><br><span class="line"># 服务器线程缓冲池中存放的最大连接线程数。默认值是8，断开连接时如果缓存中还有空间，客户端的线程将被放到缓存中，当线程重新被请求，将先从缓存中读取。</span><br><span class="line"># 根据物理内存设置规则如下：1G  —&gt; 8，2G  —&gt; 16，3G  —&gt; 32，大于3G  —&gt; 64</span><br><span class="line"></span><br><span class="line">thread_stack = 256K</span><br><span class="line"># 每个连接被创建时,mysql分配给它的内存。默认192KB，已满足大部分场景，除非必要否则不要动它，可设置范围128KB~4GB。</span><br><span class="line"></span><br><span class="line">#query_cache_type = 0</span><br><span class="line"># 关闭查询缓存</span><br><span class="line"></span><br><span class="line">#query_cache_size = 0</span><br><span class="line"># 查询缓存大小，在高并发，写入量大的系统，建议把该功能禁掉。</span><br><span class="line"></span><br><span class="line">#query_cache_limit = 4M</span><br><span class="line"># 指定单个查询能够使用的缓冲区大小，缺省为1M</span><br><span class="line"></span><br><span class="line">tmp_table_size = 1024M</span><br><span class="line"># MySQL的heap（堆积）表缓冲大小，也即内存临时表，默认大小是 32M。如果超过该值，则会将临时表写入磁盘。在频繁做很多高级 GROUP BY 查询的DW环境，增大该值。</span><br><span class="line"># 实际起限制作用的是tmp_table_size和max_heap_table_size的最小值。</span><br><span class="line"></span><br><span class="line">max_heap_table_size = 1024M</span><br><span class="line"># 用户可以创建的内存表(memory table)的大小，这个值用来计算内存表的最大行数值。</span><br><span class="line"></span><br><span class="line">table_definition_cache = 400</span><br><span class="line"># 表定义缓存区，缓存frm文件。表定义(global)是全局的，可以被所有连接有效的共享。</span><br><span class="line"></span><br><span class="line">table_open_cache = 1000</span><br><span class="line"># 所有SQL线程可以打开表缓存的数量，缓存ibd/MYI/MYD文件。 打开的表(session级别)是每个线程，每个表使用。</span><br><span class="line"></span><br><span class="line">table_open_cache_instances = 4</span><br><span class="line"># 对table cache 能拆成的分区数，用于减少锁竞争，最大值64.</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#               Safety                 #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line"># MySQL支持的SQL语法模式，与其他异构数据库之间进行数据迁移时，SQL Mode组合模式会有帮助。</span><br><span class="line">#sql_mode = NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY</span><br><span class="line">#sql_mode = NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER</span><br><span class="line">#NO_ZERO_DATE,NO_ZERO_IN_DATE,</span><br><span class="line">sql_mode = ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span><br><span class="line"></span><br><span class="line">local_infile = OFF</span><br><span class="line"># 禁用LOAD DATA LOCAL命令</span><br><span class="line"></span><br><span class="line">#plugin-load = validate_password #validate_password.so</span><br><span class="line"># 加密认证插件，强制mysql设置复杂密码</span><br><span class="line"></span><br><span class="line">skip-external-locking</span><br><span class="line">#skip-locking</span><br><span class="line"># 避免MySQL的外部锁定，减少出错几率，增强稳定性。</span><br><span class="line"></span><br><span class="line">#skip-name-resolve</span><br><span class="line"># 禁止MySQL对外部连接进行DNS解析，消除MySQL进行DNS解析。如果开启该选项，所有远程主机连接授权都要使用IP地址方式，否则MySQL将无法正常处理连接请求！</span><br><span class="line"></span><br><span class="line">#skip-networking</span><br><span class="line"># 不允许CP/IP连接，只能通过命名管道（Named Pipes）、共享内存（Shared Memory）或Unix套接字（Socket）文件连接。</span><br><span class="line"># 如果Web服务器以远程连接方式访问MySQL数据库服务器，则不要开启该选项，否则无法正常连接！</span><br><span class="line"># 适合应用和数据库共用一台服务器的情况，其他客户端无法通过网络远程访问数据库</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#                 Logs                 #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line">###################   General Log  ######################</span><br><span class="line">general_log = OFF</span><br><span class="line"># 关闭通用查询日志</span><br><span class="line"></span><br><span class="line">general_log_file = /Users/sherlock/documents/mysql/logs/general.log</span><br><span class="line"># 通用查询日志存放路径</span><br><span class="line"></span><br><span class="line">###################     Slow Log   ######################</span><br><span class="line">slow_query_log = ON</span><br><span class="line"># 开启慢查询日志</span><br><span class="line"></span><br><span class="line">slow_query_log_file = /Users/sherlock/documents/mysql/logs/slow.log</span><br><span class="line"># 慢查询日志存放路径</span><br><span class="line"></span><br><span class="line">long_query_time = 10</span><br><span class="line"># 超过10秒的查询，记录到慢查询日志，默认值10</span><br><span class="line"></span><br><span class="line">log_queries_not_using_indexes = ON</span><br><span class="line"># 没有使用索引的查询，记录到慢查询日志，可能引起慢查询日志快速增长</span><br><span class="line"></span><br><span class="line">log_slow_admin_statements = ON</span><br><span class="line"># 执行缓慢的管理语句，记录到慢查询日志</span><br><span class="line"># 例如 ALTER TABLE, ANALYZE TABLE, CHECK TABLE, CREATE INDEX, DROP INDEX, OPTIMIZE TABLE, and REPAIR TABLE.</span><br><span class="line"></span><br><span class="line">###################     Error Log   ####################</span><br><span class="line">log_error = /Users/sherlock/documents/mysql/logs/error.log</span><br><span class="line"># 错误日志存放路径</span><br><span class="line"></span><br><span class="line">log_error_verbosity = 2</span><br><span class="line"># 全局动态变量，默认3，范围：1～3</span><br><span class="line"># 表示错误日志记录的信息，1：只记录error信息；2：记录error和warnings信息；3：记录error、warnings和普通的notes信息</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#           Replication                #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line"></span><br><span class="line">###################     Bin Log    ######################</span><br><span class="line">server_id = 6</span><br><span class="line"># 数据库服务器ID</span><br><span class="line"></span><br><span class="line">log_bin = /Users/sherlock/documents/mysql/logs/binlog</span><br><span class="line"># 二进制日志存放路径</span><br><span class="line"></span><br><span class="line">log_bin_index = /Users/sherlock/documents/mysql/logs/binlog.index</span><br><span class="line"># 同binlog，定义binlog的位置和名称</span><br><span class="line"></span><br><span class="line">binlog_format = row</span><br><span class="line"># binlog格式，复制有3种模式STATEMENT，ROW，MIXED</span><br><span class="line"></span><br><span class="line">expire_logs_days = 10</span><br><span class="line"># 只保留最近10天的binlog日志</span><br><span class="line"></span><br><span class="line">max_binlog_size = 50M</span><br><span class="line"># 每个binlog日志文件的最大容量</span><br><span class="line"></span><br><span class="line">binlog_cache_size = 2M</span><br><span class="line"># 每个session分配的binlog缓存大小</span><br><span class="line"># 事务提交前产生的日志，记录到Cache中；事务提交后，则把日志持久化到磁盘</span><br><span class="line"></span><br><span class="line">log_slave_updates = ON</span><br><span class="line"># 开启log_slave_updates，从库的更新操作记录进binlog日志</span><br><span class="line"></span><br><span class="line">sync_binlog = 1</span><br><span class="line"># sync_binlog=0（默认），事务提交后MySQL不刷新binlog_cache到磁盘，而让Filesystem自行决定，或者cache满了才同步。</span><br><span class="line"># sync_binlog=n，每进行n次事务提交之后，MySQL将binlog_cache中的数据强制写入磁盘。</span><br><span class="line"></span><br><span class="line">binlog_rows_query_log_events = ON</span><br><span class="line"># 将row模式下的sql语句，记录到binlog日志，默认是0(off)</span><br><span class="line"></span><br><span class="line">###################     Relay Log  ######################</span><br><span class="line">relay_log = /Users/sherlock/documents/mysql/logs/relaylog</span><br><span class="line"># 中继日志存放路径</span><br><span class="line"></span><br><span class="line">relay_log_index = /Users/sherlock/documents/mysql/logs/relaylog.index</span><br><span class="line"># 同relay_log，定义relay_log的位置和名称</span><br><span class="line"></span><br><span class="line">#binlog_checksum = CRC32</span><br><span class="line"># Session-Thread把Event写到Binlog时，生成checksum。默认为（NONE），兼容旧版本mysql。</span><br><span class="line"></span><br><span class="line">master_verify_checksum = ON</span><br><span class="line"># Dump-Thread读Binlog中的Event时，验证checksum</span><br><span class="line"></span><br><span class="line">slave_sql_verify_checksum = ON</span><br><span class="line"># 从库的I/O-Thread把Event写入Relaylog时，生成checksum；从库的SQL-Thread从Relaylog读Event时，验证checksum</span><br><span class="line"></span><br><span class="line">master_info_repository = TABLE</span><br><span class="line">relay_log_info_repository = TABLE</span><br><span class="line"># 将master.info和relay.info保存在表中，默认是Myisam引擎，官方建议改为Innodb引擎，防止表损坏后自行修复。</span><br><span class="line"></span><br><span class="line">relay_log_purge = ON</span><br><span class="line">relay_log_recovery = ON</span><br><span class="line"># 启用relaylog的自动修复功能，避免由于网络之类的外因造成日志损坏，主从停止。</span><br><span class="line"></span><br><span class="line">skip_slave_start = OFF</span><br><span class="line"># 重启数据库，复制进程默认不启动</span><br><span class="line"></span><br><span class="line">slave_net_timeout = 5</span><br><span class="line"># 当master和slave之间的网络中断，slave的I/O-Thread等待5秒，重连master</span><br><span class="line"></span><br><span class="line">sync_master_info = 10000</span><br><span class="line"># slave更新mysql.slave_master_info表的时间间隔</span><br><span class="line"></span><br><span class="line">sync_relay_log = 10000</span><br><span class="line">sync_relay_log_info = 10000</span><br><span class="line"># slave更新mysql.slave_relay_log_info表的时间间隔</span><br><span class="line"></span><br><span class="line">gtid_mode = ON</span><br><span class="line">enforce_gtid_consistency = ON</span><br><span class="line"># GTID即全局事务ID（global transaction identifier），GTID由UUID+TID组成的。</span><br><span class="line"># UUID是一个MySQL实例的唯一标识，TID代表了该实例上已经提交的事务数量，并且随着事务提交单调递增。</span><br><span class="line"># GTID能够保证每个MySQL实例事务的执行（不会重复执行同一个事务，并且会补全没有执行的事务）。下面是一个GTID的具体形式：</span><br><span class="line"># 4e659069-3cd8-11e5-9a49-001c4270714e:1-77</span><br><span class="line"></span><br><span class="line">auto_increment_offset  = 1</span><br><span class="line"># 双主复制中，2台服务器的自增长字段初值分别配置为1和2，取值范围是1 .. 65535</span><br><span class="line"></span><br><span class="line">auto_increment_increment = 2</span><br><span class="line"># 双主复制中，2台服务器的自增长字段的每次递增值都配置为2，其默认值是1，取值范围是1 .. 65535</span><br><span class="line"></span><br><span class="line">########################################</span><br><span class="line">#                                      #</span><br><span class="line">#                InnoDB                #</span><br><span class="line">#                                      #</span><br><span class="line">########################################</span><br><span class="line"></span><br><span class="line">innodb_data_home_dir = /Users/sherlock/documents/mysql/data</span><br><span class="line"># innodb表的数据文件目录</span><br><span class="line"></span><br><span class="line">innodb_file_per_table = ON</span><br><span class="line"># 使用独立表空间管理</span><br><span class="line"></span><br><span class="line">innodb_data_file_path = ibdata1:12M:autoextend</span><br><span class="line"># InnoDB共享表空间磁盘文件，存放数据字典、和在线重做日志</span><br><span class="line"></span><br><span class="line">innodb_log_group_home_dir = /Users/sherlock/documents/mysql/logs</span><br><span class="line"># 在事务被提交并写入到表空间磁盘文件上之前，事务数据存储在InnoDB的redo日志文件里。这些日志位于innodb_log_group_home_dir变量定义的目录中</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_size = 2G</span><br><span class="line"># InnoDB用于缓存数据、索引、锁、插入缓冲、数据字典的缓冲池。该值越大，缓存命中率越高，但是过大会导致页交换。</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_instances = 8</span><br><span class="line"># 开启8个内存缓冲池，把需要缓冲的数据hash到不同的缓冲池中，这样可以并行的内存读写，降低并发导致的内部缓存访问冲突。</span><br><span class="line"># InnoDB缓存系统会把参数innodb_buffer_pool_size指定大小的缓存，平分为innodb_buffer_pool_instances个buffer_pool</span><br><span class="line"></span><br><span class="line">#innodb_additional_mem_pool_size = 16M</span><br><span class="line"># InnoDB存储数据字典、内部数据结构的缓冲池大小，类似于Oracle的library cache</span><br><span class="line"></span><br><span class="line">innodb_log_file_size = 256M</span><br><span class="line"># InnoDB redo log大小，对应于ib_logfile0文件。</span><br><span class="line"># ib_logfile* 是Innodb多版本缓冲的一个保证，该日志记录redo、undo信息，即commit之前的数据，用于rollback操作。</span><br><span class="line"># 官方文档的建议设置是innodb_log_file_size = innodb_buffer_pool_size/innodb_log_files_in_group</span><br><span class="line"></span><br><span class="line">innodb_log_buffer_size = 64M</span><br><span class="line"># redo日志所用的内存缓冲区大小</span><br><span class="line"></span><br><span class="line">innodb_log_files_in_group = 4</span><br><span class="line"># redo日志文件数，默认值为2，日志是以顺序的方式写入。</span><br><span class="line"></span><br><span class="line">innodb_max_dirty_pages_pct = 90</span><br><span class="line"># 缓存池中脏页的最大比例，默认值是75%，如果脏页的数量达到或超过该值，InnoDB的后台线程将开始缓存刷新。</span><br><span class="line"># “缓存刷新”是指InnoDB在找不到干净的可用缓存页或检查点被触发等情况下，InnoDB的后台线程就开始把“脏的缓存页”回写到磁盘文件中。</span><br><span class="line"></span><br><span class="line">innodb_flush_log_at_trx_commit = 1</span><br><span class="line">#设置为0 ，每秒 write cache &amp; flush disk</span><br><span class="line">#设置为1 ，每次commit都 write cache &amp; flush disk</span><br><span class="line">#设置为2 ，每次commit都 write cache，然后根据innodb_flush_log_at_timeout（默认为1s）时间 flush disk</span><br><span class="line"></span><br><span class="line">innodb_lock_wait_timeout = 10</span><br><span class="line"># InnoDB 有其内置的死锁检测机制，能导致未完成的事务回滚。但是，如果结合InnoDB使用MyISAM的lock tables语句或第三方事务引擎,则InnoDB无法识别死锁。</span><br><span class="line"># 为消除这种可能性，可以将innodb_lock_wait_timeout设置为一个整数值，指示MySQL在允许其他事务修改那些最终受事务回滚的数据之前要等待多长时间(秒数)。</span><br><span class="line"></span><br><span class="line">innodb_sync_spin_loops = 40</span><br><span class="line"># 自旋锁的轮转数，可以通过show engine innodb status来查看。</span><br><span class="line"># 如果看到大量的自旋等待和自旋轮转，则它浪费了很多cpu资源。浪费cpu时间和无谓的上下文切换之间可以通过该值来平衡。</span><br><span class="line"></span><br><span class="line">#innodb_support_xa = ON</span><br><span class="line"># 第一，支持多实例分布式事务（外部xa事务），这个一般在分布式数据库环境中用得较多。</span><br><span class="line"># 第二，支持内部xa事务，即支持binlog与innodb redo log之间数据一致性。</span><br><span class="line"></span><br><span class="line">#innodb_file_format = barracuda</span><br><span class="line"># InnoDB文件格式，Antelope是innodb-base的文件格式，Barracude是innodb-plugin后引入的文件格式，同时Barracude也支持Antelope文件格式。</span><br><span class="line"></span><br><span class="line">innodb_flush_method = O_DIRECT</span><br><span class="line"># 设置innodb数据文件及redo log的打开、刷写模式，fdatasync(默认)，O_DSYNC，O_DIRECT</span><br><span class="line"># 默认是fdatasync，调用fsync()去刷数据文件与redo log的buffer</span><br><span class="line"># 设置为为O_DSYNC时，innodb会使用O_SYNC方式打开和刷写redo log,使用fsync()刷写数据文件</span><br><span class="line"># 设置为O_DIRECT时，innodb使用O_DIRECT打开数据文件，使用fsync()刷写数据文件跟redo log</span><br><span class="line"></span><br><span class="line">innodb_strict_mode = ON</span><br><span class="line"># 开启InnoDB严格检查模式，在某些情况下返回errors而不是warnings，默认值是OFF</span><br><span class="line"></span><br><span class="line">innodb_checksum_algorithm = strict_crc32</span><br><span class="line"># checksum函数的算法，默认为crc32。可以设置的值有:innodb、crc32、none、strict_innodb、strict_crc32、strict_none</span><br><span class="line"></span><br><span class="line">innodb_status_file = 1</span><br><span class="line"># 启用InnoDB的status file，便于管理员查看以及监控</span><br><span class="line"></span><br><span class="line">innodb_open_files = 3000</span><br><span class="line"># 限制Innodb能打开的表的数据，默认为300，数据库里的表特别多的情况，可以适当增大为1000。</span><br><span class="line"></span><br><span class="line">innodb_thread_concurrency = 8</span><br><span class="line"># 同时在Innodb内核中处理的线程数量。服务器有几个CPU就设置为几，建议默认值。</span><br><span class="line"></span><br><span class="line">innodb_thread_sleep_delay = 500</span><br><span class="line"></span><br><span class="line">#innodb_file_io_threads = 16</span><br><span class="line"># 文件读写I/O数，这个参数只在Windows上起作用。在LINUX上只会等于４，默认即可。</span><br><span class="line"></span><br><span class="line">innodb_read_io_threads = 16</span><br><span class="line"># 设置read thread(读线程个数，默认是4个)</span><br><span class="line"></span><br><span class="line">innodb_write_io_threads = 16</span><br><span class="line"># 设置write thread(写线程个数，默认是4个)</span><br><span class="line"></span><br><span class="line">innodb_io_capacity = 2000</span><br><span class="line"># 磁盘io的吞吐量，默认值是200.对于刷新到磁盘页的数量，会按照inodb_io_capacity的百分比来进行控制。</span><br><span class="line"></span><br><span class="line">log_bin_trust_function_creators = 1</span><br><span class="line"># 开启log-bin后可以随意创建function，存在潜在的数据安全问题。</span><br><span class="line"></span><br><span class="line">innodb_purge_threads = 1</span><br><span class="line"># 使用独立线程进行purge操作。</span><br><span class="line"># 每次DML操作都会生成Undo页，系统需要定期对这些undo页进行清理，这称为purge操作。</span><br><span class="line"></span><br><span class="line">innodb_purge_batch_size = 32</span><br><span class="line"># 在进行full purge时，回收Undo页的个数，默认是20，可以适当加大。</span><br><span class="line"></span><br><span class="line">innodb_old_blocks_pct = 75</span><br><span class="line"># LRU算法，默认值是37，插入到LRU列表端的37%，差不多3/8的位置。</span><br><span class="line"># innodb把midpoint之后的列表称为old列表，之前的列表称为new列表，可以理解为new列表中的页都是最为活跃的热点数据。</span><br><span class="line"></span><br><span class="line">innodb_change_buffering = all</span><br><span class="line"># 用来开启各种Buffer的选项。该参数可选的值为：inserts、deletes、purges、changes、all、none。</span><br><span class="line"># changes表示启用inserts和deletes，all表示启用所有，none表示都不启用。该参数默认值为all。</span><br><span class="line"></span><br><span class="line">#innodb的临时表存放位置</span><br><span class="line">innodb_temp_tablespaces_dir =  /Users/sherlock/documents/mysql/temp</span><br><span class="line"></span><br><span class="line">#innodb的rollback segment文件所在的目录</span><br><span class="line">innodb_undo_directory = /Users/sherlock/documents/mysql/data</span><br><span class="line"></span><br><span class="line">#innodb的rollback segment 逻辑段的个数</span><br><span class="line">#innodb_undo_logs = 128</span><br><span class="line">innodb-rollback-segments = 128</span><br><span class="line"></span><br><span class="line">#innodb的rollback segment文件的数量</span><br><span class="line">#innodb_undo_tablespaces = 5</span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line">max_allowed_packet = 256M</span><br><span class="line"></span><br><span class="line">quick</span><br><span class="line"># mysqldump导出大表时很有用，强制从服务器查询取得记录直接输出，而不是取得所有记录后将它们缓存到内存中。</span><br><span class="line"></span><br><span class="line">[mysqlhotcopy]</span><br><span class="line">interactive-timeout</span><br><span class="line"></span><br><span class="line">[mysqld_safe]</span><br><span class="line">#ledir = /app/mysql/bin</span><br><span class="line"># 包含mysqld程序的软件安装路径，用该选项来显式表示服务器位置。</span><br></pre></td></tr></table></figure></p>
<a href="/blog/febf8ffd/my_2.ini" title="下载my.cnf">下载my.cnf</a>
<p>另外如果你并不是很清楚my.cnf有多少选项以及选项的意思,可以下载MySQL Workbench,在workbench的instance中有Options File,截图如下:<br><img src="/blog/febf8ffd/workbench.png" class="" title="Options File"></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/mysql/" rel="tag"># mysql</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/c097f163.html" rel="prev" title="mysql之InnoDB 文件系统之文件物理结构新解">
      <i class="fa fa-chevron-left"></i> mysql之InnoDB 文件系统之文件物理结构新解
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/8660b909.html" rel="next" title="openssl源码编译[windows版本]">
      openssl源码编译[windows版本] <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="咖啡"
      src="/images/sherlock.png">
  <p class="site-author-name" itemprop="name">咖啡</p>
  <div class="site-description" itemprop="description">技术的朝圣之旅</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://swordhell.github.io/" title="https:&#x2F;&#x2F;swordhell.github.io&#x2F;" rel="noopener" target="_blank">Abel'Blog</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">咖啡</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'bzp0CwMQschttuGek2pUcDtq-gzGzoHsz',
      appKey     : 'SkCmikADMPFqRHPPU8KuSaDH',
      placeholder: "欢迎交流讨论...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
